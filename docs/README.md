# 巴布森校友+ 小程序 & 校友卡管理系统

## 项目介绍

### 巴布森校友+

巴布森校友+ 是巴布森学院在中国的官方校友会小程序。它为校友们提供了一个便捷的交流平台，帮助他们获取学院资讯、参与活动、联系朋友并拓展人脉。

### 校友卡管理系统

这是一个基于 Streamlit 的校友卡管理系统。该系统允许用户查看项目文件结构，触发更新操作，并查看更新日志。它主要用于管理校友卡的申请和发放流程，确保用户信息的安全和准确。

## 目录结构

### 巴布森校友+ 小程序

- `app.js`: 小程序的主入口文件，负责初始化和全局逻辑管理。
- `app.json`: 全局配置文件，定义小程序页面路径、窗口外观等。
- `app.wxss`: 全局样式文件，定义通用的样式和布局。
- `pages/`: 小程序的页面目录，包含各个页面的逻辑、结构和样式文件。
  - `index/`: 首页页面文件夹。
    - `index.js`: 首页的业务逻辑。
    - `index.json`: 首页的页面配置。
    - `index.wxml`: 首页的页面结构。
    - `index.wxss`: 首页的页面样式。
  - `organization/`: 组织页面文件夹。
    - `organization.js`: 组织页面的业务逻辑。
    - `organization.json`: 组织页面的页面配置。
    - `organization.wxml`: 组织页面的页面结构。
    - `organization.wxss`: 组织页面的页面样式。
  - `profile/`: 个人信息页面文件夹。
    - `profile.js`: 个人信息页面的业务逻辑。
    - `profile.json`: 个人信息页面的页面配置。
    - `profile.wxml`: 个人信息页面的页面结构。
    - `profile.wxss`: 个人信息页面的页面样式。
  - `form/`: 申请校友卡页面文件夹。
    - `form.js`: 申请校友卡页面的业务逻辑。
    - `form.json`: 申请校友卡页面的页面配置。
    - `form.wxml`: 申请校友卡页面的页面结构。
    - `form.wxss`: 申请校友卡页面的页面样式。
- `utils/`: 前端工具函数文件夹。
  - `request.js`: 封装的API请求模块，用于与后端进行数据交互。
- `project.config.json`: 小程序项目配置文件，定义项目名称、编译选项等。
- `LICENSE`: 项目的许可证文件，说明代码使用的许可条款。

### 校友卡管理系统

- `configs/`: 配置文件目录，包含项目的配置选项。
  - `config.yaml`: 配置文件，包含数据库连接信息、API 密钥和其他设置。
- `docs/`: 项目文档目录，记录项目的各类说明和使用指南。
  - `README.md`: 项目说明文档，介绍项目背景、功能和使用方法。
  - `API.md`: API 文档，详细说明了系统提供的各类接口及其使用方法。
- `pages/`: 基本网页结构目录，用于展示个人中心和校友卡申请表单。
  - `index.html`: 主要的网页结构文件，定义了个人中心和申请校友卡的界面布局。
- `src/`: 源代码目录，包含 Streamlit 应用的主脚本和实用工具模块。
  - `app.py`: Streamlit 应用的主脚本，集成了文件展示、更新操作等功能。
  - `utils.py`: 实用工具模块，包含加载配置、数据库连接等函数。
- `temp/OneDC_Updater/`: 更新操作相关的临时文件目录。
  - `update.log`: 更新操作的日志文件，记录每次更新的详细信息。
  - `update.py`: 更新脚本，执行更新操作并记录日志。
- `requirements.txt`: Python 项目依赖文件，列出了项目运行所需的所有依赖包。

### 后端目录

- `backend/`: 后端代码目录，包含服务器端的逻辑、路由配置和数据模型。
  - `app/`: 后端应用目录。
    - `controllers/`: 控制器目录，处理各类请求的业务逻辑。
      - `userController.js`: 用户相关控制器，负责登录、认证等功能。
      - `orgController.js`: 组织相关控制器，处理组织信息的相关操作。
      - `formController.js`: 表单相关控制器，负责校友卡申请表单的处理。
    - `models/`: 数据模型目录，定义系统中的数据结构。
      - `User.js`: 用户数据模型，定义用户信息的数据库结构。
      - `Org.js`: 组织数据模型，定义组织信息的数据库结构。
      - `Form.js`: 表单数据模型，定义校友卡申请信息的数据库结构。
    - `routes/`: 路由配置目录，定义系统中各个功能模块的路由路径。
      - `userRoutes.js`: 用户路由，处理与用户相关的API请求。
      - `orgRoutes.js`: 组织路由，处理与组织信息相关的API请求。
      - `formRoutes.js`: 表单路由，处理校友卡申请的API请求。
      - `index.js`: 总路由文件，整合并导出所有路由配置。
    - `middlewares/`: 中间件目录，包含系统使用的各类中间件。
      - `auth.js`: 认证中间件，负责用户请求的认证与授权。
    - `config/`: 配置文件目录，包含数据库配置、服务器配置等。
      - `dbConfig.js`: 数据库配置文件，定义数据库连接信息。
    - `app.js`: 后端应用入口文件，初始化并启动应用。
    - `server.js`: 服务器启动文件，配置并启动 Node.js 服务器。

### 数据库目录

- `database/`: 数据库相关文件目录，包含数据库模式和数据填充脚本。
  - `schema.sql`: 数据库模式文件，定义了数据库的结构和表关系。
  - `seed.js`: 数据填充脚本，用于初始化数据库中的测试数据。

### 测试目录

- `test/`: 测试代码目录，包含前端、后端和集成测试代码。
  - `frontend/`: 前端测试目录。
  - `backend/`: 后端测试目录。
  - `integration/`: 集成测试目录。

### 其他文件

- `package.json`: 项目的依赖配置文件，定义了项目所需的 npm 包和启动脚本。

## 运行指南

### 巴布森校友+ 小程序

1. **安装微信开发者工具**: [下载链接](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)。
2. **导入项目**: 将项目目录导入微信开发者工具。
3. **运行和调试**: 在微信开发者工具中运行并调试小程序。

### 校友卡管理系统

1. **安装依赖**: 执行命令 `pip install -r requirements.txt` 安装所需的 Python 依赖包。
2. **运行应用**: 执行命令 `streamlit run src/app.py` 启动应用。
3. **访问系统**: 在浏览器中打开 [http://localhost:8501](http://localhost:8501) 访问校友卡管理系统。

## 使用方法

### 校友卡管理系统

运行应用后，用户可以通过浏览器访问系统，在页面上查看项目文件结构、执行更新操作，并查看更新日志。该系统主要用于管理校友卡的申请和发放流程。

## 许可证

本项目使用 MIT 许可证。有关详细信息，请参见 `LICENSE` 文件。
